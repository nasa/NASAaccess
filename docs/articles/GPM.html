<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started with GPM data • NASAaccess</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with GPM data">
<meta property="og:description" content="NASAaccess">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NASAaccess</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/About.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/GLDAS.html">Getting started with GLDAS data</a>
    </li>
    <li>
      <a href="../articles/GPM.html">Getting started with GPM data</a>
    </li>
    <li>
      <a href="../articles/NEXGDDP-CMIP6.html">Getting started with NEXGDDP-CMIP6 data</a>
    </li>
    <li>
      <a href="../articles/NEXGDPP.html">Getting started with NEXGDPP data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nasa/NASAaccess/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started with GPM data</h1>
                        <h4 data-toc-skip class="author">Ibrahim N.
Mohammed</h4>
            
            <h4 data-toc-skip class="date">2022-03-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nasa/NASAaccess/blob/HEAD/vignettes/GPM.Rmd" class="external-link"><code>vignettes/GPM.Rmd</code></a></small>
      <div class="hidden name"><code>GPM.Rmd</code></div>

    </div>

    
    
<p><em>NASAaccess</em> package has multiple functions such as
<code>GPMpolyCentroid</code> and <code>GPMswat</code> that download,
extract, and reformat rainfall remote sensing data of <a href="https://gpm.nasa.gov/missions/trmm" class="external-link">TRMM</a> and <a href="https://gpm.nasa.gov/data/imerg" class="external-link">IMERG</a> from <a href="https://gpm.nasa.gov/data/directory" class="external-link">NASA servers</a> for grids
within a specified watershed shapefile.</p>
<p>Let’s explore <code>GPMpolyCentroid</code> and <code>GPMswat</code>
functions. ## Basic use</p>
<p>Let’s look at an example watershed that we want to examine near
Houston, TX:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dkahle/ggmap" class="external-link">ggmap</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: ggplot2</span>
<span class="co">#&gt; Google's Terms of Service: https://cloud.google.com/maps-platform/terms/.</span>
<span class="co">#&gt; Please cite ggmap if you use it! See citation("ggmap") for details.</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster" class="external-link">raster</a></span><span class="op">)</span>
<span class="co">#&gt; Loading required package: sp</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://rgdal.r-forge.r-project.org" class="external-link">rgdal</a></span><span class="op">)</span>
<span class="co">#&gt; Please note that rgdal will be retired by the end of 2023,</span>
<span class="co">#&gt; plan transition to sf/stars/terra functions using GDAL and PROJ</span>
<span class="co">#&gt; at your earliest convenience.</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; rgdal: version: 1.5-28, (SVN revision 1158)</span>
<span class="co">#&gt; Geospatial Data Abstraction Library extensions to R successfully loaded</span>
<span class="co">#&gt; Loaded GDAL runtime: GDAL 3.2.1, released 2020/12/29</span>
<span class="co">#&gt; Path to GDAL shared files: /Users/imohamme/Library/R/x86_64/4.1/library/rgdal/gdal</span>
<span class="co">#&gt; GDAL binary built with GEOS: TRUE </span>
<span class="co">#&gt; Loaded PROJ runtime: Rel. 7.2.1, January 1st, 2021, [PJ_VERSION: 721]</span>
<span class="co">#&gt; Path to PROJ shared files: /Users/imohamme/Library/R/x86_64/4.1/library/rgdal/proj</span>
<span class="co">#&gt; PROJ CDN enabled: FALSE</span>
<span class="co">#&gt; Linking to sp version:1.4-6</span>
<span class="co">#&gt; To mute warnings of possible GDAL/OSR exportToProj4() degradation,</span>
<span class="co">#&gt; use options("rgdal_show_exportToProj4_warnings"="none") before loading sp or rgdal.</span>
<span class="co">#&gt; Overwritten PROJ_LIB was /Users/imohamme/Library/R/x86_64/4.1/library/rgdal/proj</span>

<span class="co">#Reading input data</span>
<span class="va">dem_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, 
                        <span class="st">"DEM_TX.tif"</span>, 
                        package <span class="op">=</span> <span class="st">"NASAaccess"</span><span class="op">)</span>

<span class="va">shape_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, 
                          <span class="st">"basin.shp"</span>, 
                          package <span class="op">=</span> <span class="st">"NASAaccess"</span><span class="op">)</span>


<span class="va">dem</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></span><span class="op">(</span><span class="va">dem_path</span><span class="op">)</span>



<span class="va">shape</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://rgdal.r-forge.r-project.org/reference/readOGR.html" class="external-link">readOGR</a></span><span class="op">(</span><span class="va">shape_path</span><span class="op">)</span>
<span class="co">#&gt; OGR data source with driver: ESRI Shapefile </span>
<span class="co">#&gt; Source: "/private/var/folders/8t/45w1tdfs1vj3dy1tchbw3pmrhr_gxz/T/RtmpL9j95Z/temp_libpathdc4c23344eca/NASAaccess/extdata/basin.shp", layer: "basin"</span>
<span class="co">#&gt; with 1 features</span>
<span class="co">#&gt; It has 4 fields</span>
<span class="co">#&gt; Integer64 fields read as strings:  OBJECTID disID</span>
<span class="va">shape.df</span> <span class="op">&lt;-</span> <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/fortify.html" class="external-link">fortify</a></span><span class="op">(</span><span class="va">shape</span><span class="op">)</span>
<span class="co">#&gt; Regions defined for each Polygons</span>





<span class="co">#plot the watershed data</span>
<span class="va">myMap</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/get_stamenmap.html" class="external-link">get_stamenmap</a></span><span class="op">(</span>bbox <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>left <span class="op">=</span> <span class="op">-</span><span class="fl">96</span>,
                                bottom <span class="op">=</span> <span class="fl">29.7</span>,
                                right <span class="op">=</span> <span class="op">-</span><span class="fl">95.2</span>,
                                top <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,
                                            maptype <span class="op">=</span> <span class="st">"terrain"</span>, 
                                            crop <span class="op">=</span> <span class="cn">TRUE</span>,
                                             zoom <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/238/422.png</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/239/422.png</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/240/422.png</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/241/422.png</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/238/423.png</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/239/423.png</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/240/423.png</span>
<span class="co">#&gt; Source : http://tile.stamen.com/terrain/10/241/423.png</span>


<span class="fu"><a href="https://rdrr.io/pkg/ggmap/man/ggmap.html" class="external-link">ggmap</a></span><span class="op">(</span><span class="va">myMap</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">shape.df</span>, 
               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span><span class="op">)</span>, 
               fill <span class="op">=</span> <span class="cn">NA</span>, size <span class="op">=</span> <span class="fl">0.5</span>, color <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span></code></pre></div>
<p><img src="GPM_files/figure-html/unnamed-chunk-2-1.png" width="672"></p>
<p>The geographic layout of the White Oak Bayou watershed example used
in this demonstration is depicted above. Whiteoak Bayou is a tributary
for the Buffalo Bayou River (Harris County, Texas). In order to use
<em>NASAaccess</em> we also need a digital elevation model (DEM) raster
layer. Let’s see the White Oak Bayou watershed DEM and a more closer
look at the study watershed example.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># create a plot of our DEM raster along with watershed</span>

<span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">dem</span>,
     main<span class="op">=</span><span class="st">"White Oak Bayou Watershed with Digital Elevation Model (DEM)"</span>, 
      col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bpy.colors.html" class="external-link">bpy.colors</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>, 
      xlab<span class="op">=</span><span class="st">'lon'</span>, 
      ylab<span class="op">=</span><span class="st">'lat'</span>,
      legend  <span class="op">=</span> <span class="cn">T</span>,
      legend.args<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text<span class="op">=</span><span class="st">'Elevation (m)'</span>, 
                       side<span class="op">=</span><span class="fl">4</span>, 
                       font<span class="op">=</span><span class="fl">2</span>, 
                       line<span class="op">=</span><span class="fl">2.5</span>, 
                       cex<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/raster/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">shape</span> , add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="GPM_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<p>Now, let’s examine <code>GPMswat</code>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nasa/NASAaccess" class="external-link">NASAaccess</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/GPMswat.html">GPMswat</a></span><span class="op">(</span>Dir <span class="op">=</span> <span class="st">"./GPMswat/"</span>,
                  watershed <span class="op">=</span> <span class="va">shape_path</span>,
                  DEM <span class="op">=</span> <span class="va">dem_path</span>,
                  start <span class="op">=</span> <span class="st">"2020-08-1"</span>,
                  end <span class="op">=</span> <span class="st">"2020-08-3"</span><span class="op">)</span></code></pre></div>
<p>Examining the rainfall station file generated by
<code>GPMswat</code></p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">GPMswat.precipitationMaster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GPMswat'</span>,
                                         <span class="st">'precipitationMaster.txt'</span>, 
                                         package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span>

<span class="co">#Reading GPMswat header file</span>
<span class="va">GPMswat.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GPMswat.precipitationMaster</span><span class="op">)</span>


<span class="fu"><a href="https://rdrr.io/pkg/raster/man/headtail.html" class="external-link">head</a></span><span class="op">(</span><span class="va">GPMswat.table</span><span class="op">)</span>
<span class="co">#&gt;        ID                 NAME      LAT      LONG ELEVATION</span>
<span class="co">#&gt; 1 2160842 precipitation2160842 29.93337 -95.82337  50.16166</span>
<span class="co">#&gt; 2 2160843 precipitation2160843 29.93337 -95.72340  46.68206</span>
<span class="co">#&gt; 3 2160844 precipitation2160844 29.93337 -95.62343  39.72196</span>
<span class="co">#&gt; 4 2160845 precipitation2160845 29.93337 -95.52346  35.58193</span>
<span class="co">#&gt; 5 2164442 precipitation2164442 29.83343 -95.82337  48.02116</span>
<span class="co">#&gt; 6 2164443 precipitation2164443 29.83343 -95.72340  40.47534</span>

<span class="fu"><a href="https://rdrr.io/pkg/raster/man/dimensions.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">GPMswat.table</span><span class="op">)</span>
<span class="co">#&gt; [1] 11  5</span></code></pre></div>
<p><code>GPMswat</code> generated ascii table for each available grid
located within the study watershed. There are 11 grids within the study
watershed and that means 11 tables have been generated.
<code>GPMswat</code> also generated the rainfall stations file input
shown above <em>GPMswat.table</em> (table with columns: ID, File NAME,
LAT, LONG, and ELEVATION) for those selected grids that fall within the
specified watershed.</p>
<p>Now, let’s see the location of these generated grid points:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">shape.df</span>,
          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span><span class="op">)</span>,
          fill <span class="op">=</span> <span class="cn">NA</span>, 
          colour <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">GPMswat.table</span>,
             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">LONG</span>,
                 y<span class="op">=</span><span class="va">LAT</span>,
                 fill<span class="op">=</span><span class="va">ELEVATION</span><span class="op">)</span>, 
             shape<span class="op">=</span><span class="fl">21</span>, 
             size <span class="op">=</span> <span class="fl">4</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html" class="external-link">scale_fill_gradientn</a></span><span class="op">(</span>colours <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">terrain.colors</a></span><span class="op">(</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="GPM_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
<p>We note here that <code>GPMswat</code> has given us all the <a href="https://gpm.nasa.gov/data/imerg" class="external-link">GPM</a> data grids that fall
within the boundaries of the White Oak Bayou study watershed.</p>
<p>The time series rainfall data stored in the data tables (i.e., 11
tables) can be viewed also. looking at reformatted data from the first
grid point as listed in the rainfall station file generated by
<code>GPMswat</code></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">GPMswat.point.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GPMswat'</span>,
                              <span class="st">'precipitation2160842.txt'</span>, 
                              package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span>

<span class="co">#Reading data records</span>
<span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GPMswat.point.data</span><span class="op">)</span>
<span class="co">#&gt;     X20200801</span>
<span class="co">#&gt; 1 32.22795868</span>
<span class="co">#&gt; 2  1.80884695</span>
<span class="co">#&gt; 3  0.07029478</span></code></pre></div>
<p>The <code>GPMswat</code> has generated a ready format ascii tables
that can be ingested easily to the Soil and Water Assessment Tool <a href="https://swat.tamu.edu/" class="external-link">SWAT</a> model or any other hydrological
model of choice.</p>
<p>Now, let’s examine <code>GPMpolyCentroid</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/GPMpolyCentroid.html">GPMpolyCentroid</a></span><span class="op">(</span>Dir <span class="op">=</span> <span class="st">"./GPMpolyCentroid/"</span>,
                  watershed <span class="op">=</span> <span class="va">shape_path</span>,
                  DEM <span class="op">=</span> <span class="va">dem_path</span>,
                  start <span class="op">=</span> <span class="st">"2019-08-1"</span>,
                  end <span class="op">=</span> <span class="st">"2019-08-3"</span><span class="op">)</span></code></pre></div>
<p>Examining the rainfall station file generated by
<code>GPMpolyCentroid</code></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">GPMpolyCentroid.precipitationMaster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GPMpolyCentroid'</span>,
                                                    <span class="st">'precipitationMaster.txt'</span>, 
                                                    package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span>

<span class="va">GPMpolyCentroid.precipitation.table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GPMpolyCentroid.precipitationMaster</span><span class="op">)</span>

<span class="co">#plotting</span>
<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_polygon.html" class="external-link">geom_polygon</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">shape.df</span>, 
               <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">long</span>, y <span class="op">=</span> <span class="va">lat</span>, group <span class="op">=</span> <span class="va">group</span><span class="op">)</span>,
               fill <span class="op">=</span> <span class="cn">NA</span>, 
               colour <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>data<span class="op">=</span><span class="va">GPMpolyCentroid.precipitation.table</span>,
             <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">LONG</span>,y<span class="op">=</span><span class="va">LAT</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="GPM_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
<p>We note here that <code>GPMpolyCentroid</code> has given us the <a href="https://gpm.nasa.gov/data/imerg" class="external-link">GPM</a> data grid that falls
within a specified watershed and assigns a pseudo rainfall gauge located
at the centroid of the watershed a weighted-average daily rainfall
data.</p>
<div class="section level2">
<h2 id="built-with">Built with<a class="anchor" aria-label="anchor" href="#built-with"></a>
</h2>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; R version 4.1.2 (2021-11-01)</span>
<span class="co">#&gt; Platform: x86_64-apple-darwin17.0 (64-bit)</span>
<span class="co">#&gt; Running under: macOS Big Sur 10.16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Matrix products: default</span>
<span class="co">#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib</span>
<span class="co">#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; locale:</span>
<span class="co">#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attached base packages:</span>
<span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; other attached packages:</span>
<span class="co">#&gt; [1] rgdal_1.5-28  raster_3.5-15 sp_1.4-6      ggmap_3.0.0   ggplot2_3.3.5</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; loaded via a namespace (and not attached):</span>
<span class="co">#&gt;  [1] Rcpp_1.0.8          lattice_0.20-45     tidyr_1.2.0        </span>
<span class="co">#&gt;  [4] png_0.1-7           rprojroot_2.0.2     digest_0.6.29      </span>
<span class="co">#&gt;  [7] utf8_1.2.2          R6_2.5.1            plyr_1.8.6         </span>
<span class="co">#&gt; [10] evaluate_0.15       highr_0.9           httr_1.4.2         </span>
<span class="co">#&gt; [13] pillar_1.7.0        RgoogleMaps_1.4.5.3 rlang_1.0.1        </span>
<span class="co">#&gt; [16] curl_4.3.2          rstudioapi_0.13     jquerylib_0.1.4    </span>
<span class="co">#&gt; [19] rmarkdown_2.11      pkgdown_2.0.2       textshaping_0.3.6  </span>
<span class="co">#&gt; [22] desc_1.4.0          labeling_0.4.2      stringr_1.4.0      </span>
<span class="co">#&gt; [25] munsell_0.5.0       compiler_4.1.2      xfun_0.29          </span>
<span class="co">#&gt; [28] pkgconfig_2.0.3     systemfonts_1.0.4   htmltools_0.5.2    </span>
<span class="co">#&gt; [31] tidyselect_1.1.2    tibble_3.1.6        codetools_0.2-18   </span>
<span class="co">#&gt; [34] fansi_1.0.2         crayon_1.5.0        dplyr_1.0.8        </span>
<span class="co">#&gt; [37] withr_2.4.3         bitops_1.0-7        grid_4.1.2         </span>
<span class="co">#&gt; [40] jsonlite_1.8.0      gtable_0.3.0        lifecycle_1.0.1    </span>
<span class="co">#&gt; [43] magrittr_2.0.2      scales_1.1.1        cli_3.2.0          </span>
<span class="co">#&gt; [46] stringi_1.7.6       cachem_1.0.6        farver_2.1.0       </span>
<span class="co">#&gt; [49] fs_1.5.2            bslib_0.3.1         ellipsis_0.3.2     </span>
<span class="co">#&gt; [52] ragg_1.2.2          generics_0.1.2      vctrs_0.3.8        </span>
<span class="co">#&gt; [55] rjson_0.2.21        tools_4.1.2         glue_1.6.2         </span>
<span class="co">#&gt; [58] purrr_0.3.4         jpeg_0.1-9          fastmap_1.1.0      </span>
<span class="co">#&gt; [61] yaml_2.3.5          colorspace_2.0-3    terra_1.5-21       </span>
<span class="co">#&gt; [64] memoise_2.0.1       knitr_1.37          sass_0.4.0</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ibrahim Mohammed.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>

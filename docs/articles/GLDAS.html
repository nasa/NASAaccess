<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Getting started with GLDAS data • NASAaccess</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with GLDAS data">
<meta property="og:description" content="NASAaccess">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NASAaccess</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">3.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/About.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/GLDAS.html">Getting started with GLDAS data</a>
    </li>
    <li>
      <a href="../articles/GPM.html">Getting started with GPM data</a>
    </li>
    <li>
      <a href="../articles/NEXGDDP-CMIP6.html">Getting started with NEXGDDP-CMIP6 data</a>
    </li>
    <li>
      <a href="../articles/NEXGDPP.html">Getting started with NEXGDPP data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nasa/NASAaccess/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Getting started with GLDAS data</h1>
                        <h4 data-toc-skip class="author">Ibrahim N.
Mohammed</h4>
            
            <h4 data-toc-skip class="date">2022-03-03</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nasa/NASAaccess/blob/HEAD/vignettes/GLDAS.Rmd" class="external-link"><code>vignettes/GLDAS.Rmd</code></a></small>
      <div class="hidden name"><code>GLDAS.Rmd</code></div>

    </div>

    
    
<p><em>NASAaccess</em> package has multiple functions such as
<code>GLDASwat</code> and <code>GLDASpolyCentroid</code> that download,
extract, and reformat air temperature data (‘Tair_f_inst’) of <a href="https://hydro1.gesdisc.eosdis.nasa.gov/dods/" class="external-link">GLDAS</a> from <a href="https://gpm.nasa.gov/data/directory" class="external-link">NASA servers</a> for grids
within a specified watershed shapefile. The
<code>GLDASpolyCentroid</code> and <code>GLDASswat</code> find the
minimum and maximum air temperatures for each day at each grid within
the study watershed by searching for minima and maxima over the three
hours air temperature data values available for each day and grid. The
<code>GLDASwat</code> and <code>GLDASpolyCentroid</code> functions
output gridded air temperature (maximum and minimum) data in degrees
‘C’.</p>
<p>Let’s explore <code>GLDASpolyCentroid</code> and
<code>GLDASswat</code> functions.</p>
<div class="section level2">
<h2 id="basic-use">Basic use<a class="anchor" aria-label="anchor" href="#basic-use"></a>
</h2>
<p>Let’s use the example watersheds that we introduced with
<code>GPMswat</code> and <code>GPMpolyCentroid</code>. Please visit
<em>NASAaccess</em> <a href=".%5CGPM.html">GPM</a> functions for more
information.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nasa/NASAaccess" class="external-link">NASAaccess</a></span><span class="op">)</span>

<span class="fu"><a href="../reference/GLDASwat.html">GLDASwat</a></span><span class="op">(</span>Dir <span class="op">=</span> <span class="st">"./GLDASwat/"</span>,
                  watershed <span class="op">=</span> <span class="va">shape_path</span>,
                  DEM <span class="op">=</span> <span class="va">dem_path</span>,
                  start <span class="op">=</span> <span class="st">"2020-08-1"</span>,
                  end <span class="op">=</span> <span class="st">"2020-08-3"</span><span class="op">)</span></code></pre></div>
<p>Let’s examine the air temperature station file</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">GLDASwat.tempMaster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GLDASwat'</span>,
                                         <span class="st">'temp_Master.txt'</span>, 
                                         package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span>

<span class="va">GLDASwat.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GLDASwat.tempMaster</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">GLDASwat.table</span><span class="op">)</span>
<span class="co">#&gt;       ID       NAME      LAT      LONG ELEVATION</span>
<span class="co">#&gt; 1 345937 temp345937 29.85021 -95.80842  46.64194</span>
<span class="co">#&gt; 2 345938 temp345938 29.85021 -95.55859  30.55108</span>

<span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">GLDASwat.table</span><span class="op">)</span>
<span class="co">#&gt; [1] 2 5</span></code></pre></div>
<p><code>GLDASwat</code> generated ascii table for each available grid
located within the study watershed. <code>GLDASwat</code> also generated
the air temperature stations file input shown above
<em>GLDASwat.table</em> (table with columns: ID, File NAME, LAT, LONG,
and ELEVATION) for those selected grids that fall within the specified
watershed. The <a href="https://hydro1.gesdisc.eosdis.nasa.gov/dods/" class="external-link">GLDAS</a> dataset
used here is the <a href="https://disc.gsfc.nasa.gov/datasets/GLDAS_NOAH025_3H_2.1/summary" class="external-link">GLDAS
Noah Land Surface Model L4 3 hourly 0.25 x 0.25 degree V2.1</a>.</p>
<p>Now, let’s see the location of the <code>GLDASwat</code> generated
grid points</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">shape</span>, 
          fill <span class="op">=</span> <span class="cn">NA</span>, 
          colour <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span>data<span class="op">=</span><span class="va">GLDASwat.table</span>,<span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">LONG</span>,y<span class="op">=</span><span class="va">LAT</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="GLDAS_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<p>We note here that <code>GLDASwat</code> has given us all the <a href="https://disc.gsfc.nasa.gov/datasets/GLDAS_NOAH025_3H_2.1/summary" class="external-link">GLDAS</a>
data grids that fall within the boundaries of the White Oak Bayou study
watershed.</p>
<p>The time series air temperature data stored in the data tables (i.e.,
2 tables) can be viewed also. looking at air temperature reformatted
data from the first grid point as listed in the air temperature station
file is by</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">GLDASwat.point.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GLDASwat'</span>,
                              <span class="st">'temp345937.txt'</span>, 
                              package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span>
<span class="co">#Reading data records</span>
<span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GLDASwat.point.data</span><span class="op">)</span>
<span class="co">#&gt;                  X20200801</span>
<span class="co">#&gt; 32.1672399902343  23.28843</span>
<span class="co">#&gt; 33.0642431640625  22.76880</span>
<span class="co">#&gt; 33.7442358398437  22.91977</span></code></pre></div>
<p>The time series air temperature data has been written in a format
that gives daily maximum and minimum air temperature in degrees ‘C’.</p>
<p>Now, let’s examine <code>GPMpolyCentroid</code>.</p>
<p>Using the watershed example:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="../reference/GLDASpolyCentroid.html">GLDASpolyCentroid</a></span><span class="op">(</span>Dir <span class="op">=</span> <span class="st">"./GLDASpolyCentroid/"</span>,
                  watershed <span class="op">=</span> <span class="va">shape_path</span>,
                  DEM <span class="op">=</span> <span class="va">dem_path</span>,
                  start <span class="op">=</span> <span class="st">"2018-08-1"</span>,
                  end <span class="op">=</span> <span class="st">"2018-08-3"</span><span class="op">)</span></code></pre></div>
<p>Now let’s examine the <code>GLDASpolyCentroid</code> generated
outputs</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">GLDASpolyCentroid.tempMaster</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'extdata/GLDASpolyCentroid'</span>,
                              <span class="st">'temp_Master.txt'</span>, 
                                package <span class="op">=</span> <span class="st">'NASAaccess'</span><span class="op">)</span>

<span class="va">GLDASpolyCentroid.table</span><span class="op">&lt;-</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">GLDASpolyCentroid.tempMaster</span><span class="op">)</span>

<span class="co">#plot</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">shape</span>, 
          fill <span class="op">=</span> <span class="cn">NA</span>, 
          colour <span class="op">=</span> <span class="st">'red'</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span>data<span class="op">=</span><span class="va">GLDASpolyCentroid.table</span>,
             <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">LONG</span>,y<span class="op">=</span><span class="va">LAT</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_sf</span><span class="op">(</span>xlim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">96</span>,<span class="op">-</span><span class="fl">95.2</span><span class="op">)</span>,ylim<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">29.7</span>,<span class="fl">30</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="GLDAS_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
<p>We note here that <code>GLDASpolyCentroid</code> has given us the <a href="https://disc.gsfc.nasa.gov/datasets/GLDAS_NOAH025_3H_2.1/summary" class="external-link">GLDAS</a>
data grid that fall within our specified watershed and assigns a pseudo
air temperature gauge located at the centroid of the watershed a
weighted-average daily maximum and minimum air temperature data.</p>
</div>
<div class="section level2">
<h2 id="built-with">Built with<a class="anchor" aria-label="anchor" href="#built-with"></a>
</h2>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; R version 4.1.2 (2021-11-01)</span>
<span class="co">#&gt; Platform: x86_64-apple-darwin17.0 (64-bit)</span>
<span class="co">#&gt; Running under: macOS Big Sur 10.16</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Matrix products: default</span>
<span class="co">#&gt; BLAS:   /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRblas.0.dylib</span>
<span class="co">#&gt; LAPACK: /Library/Frameworks/R.framework/Versions/4.1/Resources/lib/libRlapack.dylib</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; locale:</span>
<span class="co">#&gt; [1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attached base packages:</span>
<span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; other attached packages:</span>
<span class="co">#&gt; [1] ggplot2_3.3.5 sf_1.0-6      raster_3.5-15 sp_1.4-6     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; loaded via a namespace (and not attached):</span>
<span class="co">#&gt;  [1] Rcpp_1.0.8         lattice_0.20-45    class_7.3-19       rprojroot_2.0.2   </span>
<span class="co">#&gt;  [5] digest_0.6.29      utf8_1.2.2         R6_2.5.1           evaluate_0.15     </span>
<span class="co">#&gt;  [9] e1071_1.7-9        highr_0.9          pillar_1.7.0       rlang_1.0.1       </span>
<span class="co">#&gt; [13] rstudioapi_0.13    jquerylib_0.1.4    rmarkdown_2.11     pkgdown_2.0.2     </span>
<span class="co">#&gt; [17] textshaping_0.3.6  desc_1.4.0         rgdal_1.5-28       stringr_1.4.0     </span>
<span class="co">#&gt; [21] munsell_0.5.0      proxy_0.4-26       compiler_4.1.2     xfun_0.29         </span>
<span class="co">#&gt; [25] pkgconfig_2.0.3    systemfonts_1.0.4  htmltools_0.5.2    tidyselect_1.1.2  </span>
<span class="co">#&gt; [29] tibble_3.1.6       codetools_0.2-18   fansi_1.0.2        crayon_1.5.0      </span>
<span class="co">#&gt; [33] dplyr_1.0.8        withr_2.4.3        wk_0.6.0           grid_4.1.2        </span>
<span class="co">#&gt; [37] jsonlite_1.8.0     gtable_0.3.0       lifecycle_1.0.1    DBI_1.1.2         </span>
<span class="co">#&gt; [41] magrittr_2.0.2     units_0.8-0        scales_1.1.1       KernSmooth_2.23-20</span>
<span class="co">#&gt; [45] cli_3.2.0          stringi_1.7.6      cachem_1.0.6       farver_2.1.0      </span>
<span class="co">#&gt; [49] fs_1.5.2           bslib_0.3.1        ellipsis_0.3.2     ragg_1.2.2        </span>
<span class="co">#&gt; [53] generics_0.1.2     vctrs_0.3.8        s2_1.0.7           tools_4.1.2       </span>
<span class="co">#&gt; [57] glue_1.6.2         purrr_0.3.4        fastmap_1.1.0      yaml_2.3.5        </span>
<span class="co">#&gt; [61] colorspace_2.0-3   terra_1.5-21       classInt_0.4-3     memoise_2.0.1     </span>
<span class="co">#&gt; [65] knitr_1.37         sass_0.4.0</span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ibrahim Mohammed.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
